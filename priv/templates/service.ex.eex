defmodule <%= mod_name %>.Service do
  @moduledoc false
  use GRPC.Service, name: <%= inspect(name) %>

  <%= if descriptor_fun_body do %>
  def descriptor do
    # credo:disable-for-next-line
    <%= descriptor_fun_body %>
  end
  <% end %>

  <%= for {method_name, input, output} <- methods do %>
  rpc :<%= method_name %>, <%= input %>, <%= output %><% end %>
end

defmodule <%= mod_name %>.Stub do
  @moduledoc false
  use GRPC.Stub, service: <%= mod_name %>.Service
end
